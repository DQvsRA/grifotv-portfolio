(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,ba,bb,bc;var bd=Object.prototype.hasOwnProperty,be=function(a,b){function d(){this.constructor=a}for(var c in b){if(bd.call(b,c))a[c]=b[c]}d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a},bf=function(a,b){return function(){return a.apply(b,arguments)}};$(function(){window.grifo={appConfig:null,appStatus:null,appView:null,appRouter:null,labelCollection:null,brandCollection:null,profileCollection:null,experienceCollection:null,experienceGroupCollection:null,tagGroupCollection:null,tagCollection:null,creditGroupCollection:null,creditCollection:null,projectCollection:null,youtubeCollection:null,twitterCollection:null,githubCollection:null,flickrCollection:null,blogCollection:null};grifo.appConfig=new d;grifo.appStatus=new f;grifo.appView=new g;return grifo.appView.on(grifo.appView.EVENT_DATA_LOADED,function(){grifo.appRouter=new e;grifo.appRouter.on(grifo.appRouter.EVENT_HASH_CHANGED,grifo.appView.onHashChanged);return Backbone.history.start()})});d=function(){function a(){this.PAGE_DEFAULT=this.PAGE_PROJECTS;this.URL_GDOCS_SS=this.URL_GDOCS_SS.replace("{KEY}",this.KEY_GDOCS_SS);this.URL_LABELS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_LABELS);this.URL_BRANDS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_BRANDS);this.URL_PROFILES=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_PROFILES);this.URL_EXPERIENCES=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_EXPERIENCES);this.URL_EXPERIENCE_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_EXPERIENCE_GROUPS);this.URL_TAGS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_TAGS);this.URL_TAG_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_TAG_GROUPS);this.URL_CREDITS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_CREDITS);this.URL_CREDIT_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_CREDIT_GROUPS);this.URL_PROJECTS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_PROJECTS);this.URL_YOUTUBE=this.URL_YOUTUBE.replace("{USER_ID}",this.USER_ID_YOUTUBE);this.URL_TWITTER=this.URL_TWITTER.replace("{USER_ID}",this.USER_ID_TWITTER);this.URL_GITHUB=this.URL_GITHUB.replace("{USER_ID}",this.USER_ID_GITHUB);this.URL_FLICKR=this.URL_FLICKR.replace("{USER_ID}",this.USER_ID_FLICKR);this.URL_YOUTUBE=this.URL_YOUTUBE.replace("{MAX_RESULTS}",this.MAX_RESULTS_YOUTUBE);this.URL_TWITTER=this.URL_TWITTER.replace("{MAX_RESULTS}",this.MAX_RESULTS_TWITTER)}a.prototype.PAGE_PROJECTS="projects";a.prototype.PAGE_TAGS="tags";a.prototype.PAGE_STREAM="stream";a.prototype.PAGE_ABOUT="about";a.prototype.PAGE_DEFAULT=null;a.prototype.URL_GDOCS_SS="http://spreadsheets.google.com/feeds/list/{KEY}/{WORKSHEET}/public/values?alt=json-in-script&callback=?";a.prototype.KEY_GDOCS_SS="0AuMegPFV2btJdGFIMWE1V0VvOUFuUlVpWXp3UXlwQ1E";a.prototype.WORKSHEET_LABELS="od9";a.prototype.WORKSHEET_BRANDS="od6";a.prototype.WORKSHEET_PROFILES="od7";a.prototype.WORKSHEET_EXPERIENCES="od8";a.prototype.WORKSHEET_EXPERIENCE_GROUPS="odb";a.prototype.WORKSHEET_TAGS="od4";a.prototype.WORKSHEET_TAG_GROUPS="od5";a.prototype.WORKSHEET_CREDITS="ocx";a.prototype.WORKSHEET_CREDIT_GROUPS="ocw";a.prototype.WORKSHEET_PROJECTS="ocz";a.prototype.URL_LABELS=null;a.prototype.URL_BRANDS=null;a.prototype.URL_PROFILES=null;a.prototype.URL_EXPERIENCES=null;a.prototype.URL_EXPERIENCE_GROUPS=null;a.prototype.URL_TAGS=null;a.prototype.URL_TAG_GROUPS=null;a.prototype.URL_CREDITS=null;a.prototype.URL_CREDIT_GROUPS=null;a.prototype.URL_PROJECTS=null;a.prototype.URL_YOUTUBE="http://gdata.youtube.com/feeds/api/videos?alt=json-in-script&author={USER_ID}&orderby=published&start-index=1&max-results={MAX_RESULTS}&callback=?";a.prototype.URL_TWITTER="https://api.twitter.com/1/statuses/user_timeline.json?include_entities=false&include_rts=false&exclude_replies=true&trim_user=false&contributor_details=false&screen_name={USER_ID}&count={MAX_RESULTS}&callback=?";a.prototype.URL_GITHUB="https://github.com/{USER_ID}.json?&callback=?";a.prototype.URL_FLICKR="http://api.flickr.com/services/feeds/photos_public.gne?id={USER_ID}&lang=en-us&format=json&callback=?";a.prototype.URL_BLOG="xml-proxy.php?url=http://blog.grifo.tv/feed/";a.prototype.USER_ID_YOUTUBE="grifotvmobile";a.prototype.USER_ID_TWITTER="grifotv";a.prototype.USER_ID_GITHUB="grifotv";a.prototype.USER_ID_FLICKR="41688283@N07";a.prototype.MAX_RESULTS_YOUTUBE=11;a.prototype.MAX_RESULTS_TWITTER=6;a.prototype.MAX_RESULTS_GITHUB=6;a.prototype.MAX_RESULTS_FLICKR=10;a.prototype.MAX_RESULTS_BLOG=6;a.prototype.SHARE_URL_FACEBOOK="http://www.facebook.com/sharer.php?u={URL}";a.prototype.SHARE_URL_TWITTER="http://twitter.com/home?status={TEXT}";a.prototype.SNAP_Y_HEADER=120;a.prototype.SNAP_Y_HEADER_BG=155;return a}();f=function(){function a(){if(navigator.userAgent.match(/iPad/i)!==null)this.isIpad=true}a.prototype.isIpad=false;a.prototype.currentPage=null;a.prototype.currentSubPage=null;a.prototype.currentSubSubPage=null;a.prototype.previousPage=null;a.prototype.previousSubPage=null;a.prototype.previousSubSubPage=null;return a}();if(!window["console"]){window.console={};console.log=function(a){return a};console.dir=console.log}Z={relativeTime:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;i=60*1e3;h=i*60;g=h*24;j=g*30;k=g*365;l=Date.parse(a);m=new Date;c=m.getTime()-l;if(c<i){return"less than a minute ago"}else if(c<h){e=Math.round(c/i);if(e>1){return e+" minutes ago"}else{return"about a minute ago"}}else if(c<g){d=Math.round(c/h);if(d>1){return d+" hours ago"}else{return"about an hour ago"}}else if(c<j){b=Math.round(c/g);if(b>1){return b+" days ago"}else{return"1 day ago"}}else if(c<k){f=Math.round(c/j);if(f>1){return f+" months ago"}else{return"1 month ago"}}else{n=Math.round(c/k);if(n>1){return n+" years ago"}else{return"1 year ago"}}},linkifyUrls:function(a){var b;b=/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/gi;return a.replace(b,'<a target="_blank" href="$1">$1</a>')},linkifyUsers:function(a){var b;b=/[\@]+([A-Za-z0-9-_]+)/gi;return a.replace(b,'<a target="_blank" href="http://twitter.com/$1">@$1</a>')},linkifyHashes:function(a){var b;b=/[\#]+([A-Za-z0-9-_]+)/gi;return a.replace(b,' <a target="_blank" href="https://twitter.com/search?q=%23$1">#$1</a> ')},getWidth:function(a){var b;b=/(width=")+([0-9-_]+")/gi;a=a.match(b).toString();a=a.replace("width=","");a=a.replace('"',"").replace('"',"");return parseInt(a)},getHeight:function(a){var b;b=/(height=")+([0-9-_]+")/gi;a=a.match(b).toString();a=a.replace("height=","");a=a.replace('"',"").replace('"',"");return parseInt(a)}};e=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Router);a.prototype.EVENT_HASH_CHANGED="EVENT_HASH_CHANGED";a.prototype.routes={":id":"hashChanged","/:id":"hashChanged",":id/":"hashChanged","/:id/":"hashChanged",":id/:subid":"hashChanged","/:id/:subid":"hashChanged",":id/:subid/":"hashChanged","/:id/:subid/":"hashChanged",":id/:subid/:subsubid":"hashChanged","/:id/:subid/:subsubid":"hashChanged",":id/:subid/:subsubid/":"hashChanged","/:id/:subid/:subsubid/":"hashChanged",":id/:subid/:subsubid/*actions":"hashChanged","/:id/:subid/:subsubid/*actions":"hashChanged","*actions":"default"};a.prototype.hashChanged=function(a,b,c,d){if(a==null)a=null;if(b==null)b=null;if(c==null)c=null;if(d==null)d=null;if(a===grifo.appConfig.PAGE_PROJECTS||a===grifo.appConfig.PAGE_TAGS||a===grifo.appConfig.PAGE_STREAM||a===grifo.appConfig.PAGE_ABOUT){return this.trigger(this.EVENT_HASH_CHANGED,a,b,c)}};a.prototype["default"]=function(a){return this.hashChanged(grifo.appConfig.PAGE_DEFAULT)};a.prototype.navigateToProject=function(a){var b;if(a==null)a=null;b="//"+grifo.appConfig.PAGE_PROJECTS+"/";if(a)b+=a+"/";return this.navigate(b,{trigger:true})};a.prototype.navigateToTag=function(a){var b;if(a==null)a=null;b="//"+grifo.appConfig.PAGE_TAGS+"/";if(a)b+=a+"/";return this.navigate(b,{trigger:true})};return a}();k=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:"",image:"",url:"",window:"",priority:0};a.prototype.initialize=function(){if(this.get("url").length>0){if(this.get("url").indexOf("#")===0){this.set({window:"_self"})}else{this.set({window:"_blank"})}}return this.set({priority:parseFloat(this.get("priority"))})};return a}();o=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:"",project:""};return a}();q=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={label:"",profiles:[],group:""};return a}();u=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:"",column:0};return a}();w=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={left:"",right:"",plus_url:"",window:"",group:""};a.prototype.initialize=function(){if(this.get("plus_url").length>0){if(this.get("plus_url").indexOf("#")===0){return this.set({window:"_self"})}else{return this.set({window:"_blank"})}}};return a}();E=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:""};return a}();H=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:"",url:"",window:""};a.prototype.initialize=function(){if(this.get("url").length>0){if(this.get("url").indexOf("#")===0){return this.set({window:"_self"})}else{return this.set({window:"_blank"})}}};return a}();K=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",index:0,tile_size:"small",short_title:"",long_title:"",headline:"",thumbnail:"",url:"",video:"",copy:"",images:[],tags:[],display_tags:[]};return a}();R=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",label:""};return a}();T=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",short_title:"",long_title:"",group:"",selected:false};return a}();i=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={title:"",url:"",description:"",date:""};return a}();y=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={title:"",url:"",image:"",date:"",is_portrait:false};return a}();A=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={type:"",text:"",date:"",url:""};return a}();Y=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",text:"",date:"",url:""};return a}();bb=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Model);a.prototype.defaults={id:"",url:"",date:"",title:"",content:"",thumbnail_low:"",thumbnail_medium:"",is_portrait:false};return a}();j=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=k;a.prototype.comparator=function(a){return a.get("priority")*10+Math.random()*10};a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new k({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"],image:b["gsx$image"]["$t"],url:b["gsx$url"]["$t"],priority:b["gsx$priority"]["$t"]});d.push(c)}return d};return a}();m=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=q;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new q({label:b["gsx$label"]["$t"],profiles:b["gsx$profiles"]["$t"].split(","),group:b["gsx$group"]["$t"]});d.push(c)}return d};return a}();n=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=o;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new o({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"],project:b["gsx$project"]["$t"]});d.push(c)}return d};return a}();s=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=w;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new w({left:b["gsx$left"]["$t"],right:b["gsx$right"]["$t"],plus_url:b["gsx$plusurl"]["$t"],group:b["gsx$group"]["$t"]});d.push(c)}return d};return a}();t=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=u;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new u({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"],column:parseFloat(b["gsx$column"]["$t"])});d.push(c)}return d};return a}();D=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=E;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new E({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"]});d.push(c)}return d};return a}();G=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=H;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new H({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"],url:b["gsx$url"]["$t"]});d.push(c)}return d};return a}();J=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=K;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new o({id:b["gsx$id"]["$t"],index:d.length,tile_size:b["gsx$tilesize"]["$t"],short_title:b["gsx$shorttitle"]["$t"],long_title:b["gsx$longtitle"]["$t"],headline:b["gsx$headline"]["$t"],thumbnail:b["gsx$thumbnail"]["$t"],url:b["gsx$url"]["$t"],video:b["gsx$video"]["$t"],copy:b["gsx$copy"]["$t"],images:b["gsx$images"]["$t"].split(","),tags:b["gsx$tags"]["$t"].split(","),display_tags:b["gsx$displaytags"]["$t"].split(",")});d.push(c)}return d};return a}();P=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=T;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new T({id:b["gsx$id"]["$t"],short_title:b["gsx$shorttitle"]["$t"],long_title:b["gsx$longtitle"]["$t"],group:b["gsx$group"]["$t"]});d.push(c)}return d};a.prototype.select=function(a){var b,c,d,e,f;e=this.models;f=[];for(c=0,d=e.length;c<d;c++){b=e[c];if(b.get("id")===a){f.push(b.set({selected:true}))}else{f.push(b.set({selected:false}))}}return f};return a}();Q=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=R;a.prototype.parse=function(a){var b,c,d,e,f,g;d=[];g=a["feed"]["entry"];for(e=0,f=g.length;e<f;e++){b=g[e];c=new R({id:b["gsx$id"]["$t"],label:b["gsx$label"]["$t"]});d.push(c)}return d};return a}();h=function(){function a(){this.parseAndAdd=bf(this.parseAndAdd,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=i;a.prototype.load=function(){return $.get(this.url,this.parseAndAdd)};a.prototype.parseAndAdd=function(a){this.add(this.parse(a));return grifo.appView.onLoad()};a.prototype.parse=function(a){var b;b=[];$(a).find("item").each(function(){var a,c,d,e,f,g;a=$(this);f=a.find("title").text();g=a.find("link").text();d=a.find("description").text();c=Z.relativeTime(a.find("pubDate").text());e=new i({title:f,url:g,description:d,date:c});b.push(e);if(b.length===grifo.appConfig.MAX_RESULTS_BLOG){return b}});return b};return a}();x=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=y;a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;l=[];o=a["items"];for(m=0,n=o.length;m<n;m++){e=o[m];b=false;d=e["description"];if(d){k=Z.getWidth(d);f=Z.getHeight(d);if(f>k)b=true}i=e["title"];j=e["link"];g=e["media"]["m"].replace("_m.jpg",".jpg");c=Z.relativeTime(e["published"]);h=new y({title:i,url:j,image:g,date:c,is_portrait:b});l.push(h);if(l.length===grifo.appConfig.MAX_RESULTS_FLICKR){return l}}return l};a.prototype.parseAndAdd=function(a){return this.add(this.parse(a))};return a}();window.jsonFlickrFeed=function(a){grifo.flickrCollection.reset();return grifo.flickrCollection.parseAndAdd(a)};z=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=A;a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k;i=[];for(j=0,k=a.length;j<k;j++){c=a[j];e=c["public"];g=c["type"];b=Z.relativeTime(c["created_at"]);h=c["url"];f=null;switch(g){case"PushEvent":if(c["repository"]){if(!c["repository"]["private"]){f='pushed to <a target="_blank" href="'+h+'">'+c["repository"]["name"]+"</a>"}}break;case"WatchEvent":f=c["payload"]["action"]+' watching <a target="_blank" href="'+h+'">'+c["repository"]["name"]+"</a>";break;case"CreateEvent":if(c["repository"]){if(!c["repository"]["private"]){f='created <a target="_blank" href="'+h+'">'+c["repository"]["name"]+"</a>"}}break;case"ForkEvent":if(c["repository"]){if(!c["repository"]["private"]){f='forked <a target="_blank" href="'+h+'">'+c["repository"]["name"]+"</a>"}}break;case"FollowEvent":f='started following <a target="_blank" href="'+h+'">'+c["payload"]["target"]["login"]+"</a>"}if(f){d=new A({type:g,text:f,date:b,url:h});i.push(d);if(i.length===grifo.appConfig.MAX_RESULTS_GITHUB){return i}}}return i};return a}();X=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=Y;a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l;j=[];for(k=0,l=a.length;k<l;k++){d=a[k];e=d["id_str"];g=d["text"];if(d["truncated"]&&d["retweeted_status"]&&d["retweeted_status"]["text"]){h=d["retweeted_status"]["text"];b=g.indexOf(h.substr(0,20));if(b!==-1)g=g.substr(0,b)+h}g=Z.linkifyUrls(g);g=Z.linkifyUsers(g);g=Z.linkifyHashes(g);c=Z.relativeTime(d["created_at"]);i="https://twitter.com/";i+=d["user"]["screen_name"];i+="/statuses/";i+=d["id_str"];f=new Y({id:e,text:g,date:c,url:i});j.push(f)}return j};return a}();ba=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.Collection);a.prototype.model=bb;a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l;i=[];l=a["feed"]["entry"];for(j=0,k=l.length;j<k;j++){d=l[j];c=Z.relativeTime(d["published"]["$t"]);h=d["id"]["$t"];h=h.replace("http://gdata.youtube.com/feeds/api/videos/","http://www.youtube.com/watch?v=");e=h.replace("http://www.youtube.com/watch?v=","");g=d["media$group"]["media$keywords"]["$t"];b=false;if(g.indexOf("vertical")!==-1||g.indexOf("portrait")!==-1){b=true}f=new bb({id:e,url:h,date:c,title:d["title"]["$t"],content:d["content"]["$t"],thumbnail_low:"http://i.ytimg.com/vi/"+e+"/default.jpg",thumbnail_medium:"http://i.ytimg.com/vi/"+e+"/hqdefault.jpg",is_portrait:b});i.push(f)}return i};return a}();c=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.id=null;a.prototype.el=null;a.prototype.$el=null;a.prototype.status=true;a.prototype.hasTransition=true;a.prototype.initialize=function(){if(this.id){this.$el=$("#"+this.id)}else{this.$el=$(this.el)}if(this.hasTransition)this.hide();return this.init()};a.prototype.remove=function(){return this.$el.remove()};a.prototype.removeChildren=function(){return this.$el.children().remove()};a.prototype.hide=function(){if(!this.hasTransition)return;this.status=false;this.$el.stop();return this.$el.css("display","none")};a.prototype.show=function(a,b){if(a==null)a=0;if(b==null)b=true;if(!this.hasTransition)return;this.status=true;this.$el.css("display","block");if(!b){return this.$el.css("opacity",1)}else{this.$el.css("opacity",0);return this.$el.stop().delay(a).animate({opacity:1},{duration:300})}};a.prototype.init=function(){};return a}();g=function(){function b(){this.realign=bf(this.realign,this);this.onHashChanged=bf(this.onHashChanged,this);this.show=bf(this.show,this);this.render=bf(this.render,this);this.onLoad=bf(this.onLoad,this);b.__super__.constructor.apply(this,arguments)}be(b,Backbone.View);b.prototype.EVENT_DATA_LOADED="EVENT_DATA_LOADED";b.prototype.EVENT_REALIGNED="EVENT_REALIGNED";b.prototype.el="body";b.prototype.$el=null;b.prototype.$window=null;b.prototype.template=null;b.prototype.loaded=0;b.prototype.numLoaded=15;b.prototype.headerView=null;b.prototype.headerBgView=null;b.prototype.tagsPageView=null;b.prototype.projectsPageView=null;b.prototype.projectPageView=null;b.prototype.streamPageView=null;b.prototype.aboutPageView=null;b.prototype.initialize=function(){this.$el=$(this.el);this.$window=$(window);this.template=_.template($("#template_app").html());this.$window.scroll(this.realign);this.$window.resize(this.realign);this.$window.load(this.onLoad);return this.loadData()};b.prototype.loadData=function(){var a=this;grifo.projectCollection=new J;grifo.projectCollection.url=grifo.appConfig.URL_PROJECTS;grifo.projectCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.tagCollection=new P;grifo.tagCollection.url=grifo.appConfig.URL_TAGS;grifo.tagCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.tagGroupCollection=new Q;grifo.tagGroupCollection.url=grifo.appConfig.URL_TAG_GROUPS;grifo.tagGroupCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.creditCollection=new m;grifo.creditCollection.url=grifo.appConfig.URL_CREDITS;grifo.creditCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.creditGroupCollection=new n;grifo.creditGroupCollection.url=grifo.appConfig.URL_CREDIT_GROUPS;grifo.creditGroupCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.experienceCollection=new s;grifo.experienceCollection.url=grifo.appConfig.URL_EXPERIENCES;grifo.experienceCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.experienceGroupCollection=new t;grifo.experienceGroupCollection.url=grifo.appConfig.URL_EXPERIENCE_GROUPS;grifo.experienceGroupCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.profileCollection=new G;grifo.profileCollection.url=grifo.appConfig.URL_PROFILES;grifo.profileCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.brandCollection=new j;grifo.brandCollection.url=grifo.appConfig.URL_BRANDS;grifo.brandCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.labelCollection=new D;grifo.labelCollection.url=grifo.appConfig.URL_LABELS;grifo.labelCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.youtubeCollection=new ba;grifo.youtubeCollection.url=grifo.appConfig.URL_YOUTUBE;grifo.youtubeCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.twitterCollection=new X;grifo.twitterCollection.url=grifo.appConfig.URL_TWITTER;grifo.twitterCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.githubCollection=new z;grifo.githubCollection.url=grifo.appConfig.URL_GITHUB;grifo.githubCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.flickrCollection=new x;grifo.flickrCollection.url=grifo.appConfig.URL_FLICKR;grifo.flickrCollection.fetch({success:function(b,c){return a.onLoad()},error:function(b,c){return a.onLoad()}});grifo.blogCollection=new h;grifo.blogCollection.url=grifo.appConfig.URL_BLOG;return grifo.blogCollection.load()};b.prototype.onLoad=function(){this.loaded++;if(this.loaded===this.numLoaded)return this.onLoadComplete()};b.prototype.onLoadComplete=function(){this.render();this.show();return this.trigger(this.EVENT_DATA_LOADED)};b.prototype.render=function(){this.$el.append(this.template({footer1_title:grifo.labelCollection.get("footer1-title").get("label"),footer1_copy:grifo.labelCollection.get("footer1-copy").get("label"),footer2_title:grifo.labelCollection.get("footer2-title").get("label"),footer2_copy:grifo.labelCollection.get("footer2-copy").get("label"),footer3_title:grifo.labelCollection.get("footer3-title").get("label"),footer3_copy:grifo.labelCollection.get("footer3-copy").get("label")}));this.headerView=new C;this.headerView.on(this.headerView.EVENT_ARROW_TOP_CLICKED,this.scrollToTop);this.headerBgView=new B;this.tagsPageView=new V;this.projectsPageView=new M;this.projectPageView=new L;this.streamPageView=new O;this.aboutPageView=new a;this.realign();return this};b.prototype.show=function(){this.headerView.show();return this.headerBgView.show()};b.prototype.onHashChanged=function(a,b,c){var d;if(a===this.currentPage&&b===this.currentSubPage&&c===this.currentSubSubPage){return}grifo.appStatus.previousPage=grifo.appStatus.currentPage;grifo.appStatus.previousSubPage=grifo.appStatus.currentSubPage;grifo.appStatus.previousSubSubPage=grifo.appStatus.currentSubSubPage;grifo.appStatus.currentPage=a;grifo.appStatus.currentSubPage=b;grifo.appStatus.currentSubSubPage=c;this.headerView.selectItem(a);d=0;switch(a){case grifo.appConfig.PAGE_PROJECTS:this.aboutPageView.hide();this.streamPageView.hide();grifo.tagCollection.select("");this.tagsPageView.hide();if(b){this.projectsPageView.hide();this.projectPageView.show();d=grifo.appConfig.SNAP_Y_HEADER_BG+29}else{this.projectPageView.hide();this.projectsPageView.filter();this.projectsPageView.show()}break;case grifo.appConfig.PAGE_TAGS:this.aboutPageView.hide();this.projectPageView.hide();this.streamPageView.hide();this.projectsPageView.filter(b);this.projectsPageView.show();grifo.tagCollection.select(b);this.tagsPageView.show();if(b)d=grifo.appConfig.SNAP_Y_HEADER_BG;break;case grifo.appConfig.PAGE_STREAM:this.tagsPageView.hide();this.projectsPageView.hide();this.projectPageView.hide();this.aboutPageView.hide();this.streamPageView.show();break;case grifo.appConfig.PAGE_ABOUT:this.tagsPageView.hide();this.projectsPageView.hide();this.projectPageView.hide();this.streamPageView.hide();this.aboutPageView.show()}return this.scrollToTop(d)};b.prototype.scrollToTop=function(a){var b;if(a==null)a=-10;b=(a-window.pageYOffset)*2;if(b<0)b*=-1;if(b>1e3)b=1e3;return $("html,body").stop().animate({scrollTop:a},{duration:b,easing:"easeOutExpo"})};b.prototype.realign=function(){var a,b,c,d,e;if(!this.headerView||!this.headerBgView)return;e=d=b=-this.$window.scrollTop();if(e<-grifo.appConfig.SNAP_Y_HEADER_BG){b=-grifo.appConfig.SNAP_Y_HEADER_BG}if(e<-grifo.appConfig.SNAP_Y_HEADER){d=-grifo.appConfig.SNAP_Y_HEADER}this.headerView.setTop(d);this.headerBgView.setTop(b);a=b/-grifo.appConfig.SNAP_Y_HEADER_BG;c=(d-b)/(grifo.appConfig.SNAP_Y_HEADER_BG-grifo.appConfig.SNAP_Y_HEADER);this.headerView.setLeftOpacity(c);this.headerBgView.setOpacity(a);return this.trigger(this.EVENT_REALIGNED)};return b}();U=function(){function a(){this.onClick=bf(this.onClick,this);this.remove=bf(this.remove,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.useLongTitle=true;a.prototype.tagName="a";a.prototype.events={click:"onClick"};a.prototype.initialize=function(){this.model.bind("change",this.render,this);return this.model.bind("destroy",this.remove,this)};a.prototype.render=function(){var a;if(this.useLongTitle){a=this.model.get("long_title")}else{a=this.model.get("short_title")}if(this.model.get("selected")){$(this.el).removeClass("tag");$(this.el).addClass("tagSelected")}else{$(this.el).addClass("tag");$(this.el).removeClass("tagSelected")}$(this.el).html(a);$(this.el).attr("href","#");return this};a.prototype.remove=function(){return $(this.el).remove()};a.prototype.onClick=function(a){a.preventDefault();if(this.model.get("selected")){return grifo.appRouter.navigateToTag()}else{return grifo.appRouter.navigateToTag(this.model.get("id"))}};return a}();B=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.id="container-header-bg";a.prototype.setTop=function(a){return this.$el.css("top",a)};a.prototype.setOpacity=function(a){return $("#header-bar-bg").css("opacity",a)};return a}();C=function(){function a(){this.onArrowTopClick=bf(this.onArrowTopClick,this);a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.EVENT_ARROW_TOP_CLICKED="EVENT_ARROW_TOP_CLICKED";a.prototype.id="container-header";a.prototype.navView=null;a.prototype.shareView=null;a.prototype.events={"click #arrow-top":"onArrowTopClick"};a.prototype.init=function(){this.navView=new F;return this.shareView=new N};a.prototype.onArrowTopClick=function(a){a.preventDefault();return this.trigger(this.EVENT_ARROW_TOP_CLICKED)};a.prototype.selectItem=function(a){return this.navView.selectItem(a)};a.prototype.setTop=function(a){return this.$el.css("top",a)};a.prototype.setLeftOpacity=function(a){return $("#header-left").css("opacity",a)};return a}();F=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.id="nav";a.prototype.hasTransition=false;a.prototype.selectItem=function(a){if(a==null)a="";$(".menu",this.$el).removeClass("menuSelected");return $("#menu-"+a,this.$el).addClass("menuSelected")};return a}();N=function(){function a(){this.onClick=bf(this.onClick,this);a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.id="header-right";a.prototype.hasTransition=false;a.prototype.init=function(){$("#share-twitter").click(this.onClick);return $("#share-facebook").click(this.onClick)};a.prototype.onClick=function(a){var b,c;a.preventDefault();b=$(a.currentTarget).attr("id");switch(b){case"share-facebook":c=grifo.appConfig.SHARE_URL_FACEBOOK.replace("{URL}",encodeURIComponent(grifo.labelCollection.get("share-url").get("label")));break;case"share-twitter":c=grifo.appConfig.SHARE_URL_TWITTER.replace("{TEXT}",encodeURIComponent(grifo.labelCollection.get("share-tweet").get("label")))}if(c)return window.open(c)};return a}();b=function(){function a(){a.__super__.constructor.apply(this,arguments)}be(a,c);return a}();a=function(){function a(){this.appendBrandView=bf(this.appendBrandView,this);this.appendExperienceGroupView=bf(this.appendExperienceGroupView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,b);a.prototype.id="about-page";a.prototype.overviewTemplate=null;a.prototype.brandsTemplate=null;a.prototype.init=function(){this.overviewTemplate=_.template($("#template_overview").html());return this.brandsTemplate=_.template($("#template_brands").html())};a.prototype.render=function(){var a,b,c,d,e,f,g,h;this.$el.append(this.overviewTemplate({label:grifo.labelCollection.get("about-overview").get("label"),image:grifo.labelCollection.get("about-picture").get("label"),headline:grifo.labelCollection.get("about-headline").get("label"),copy:grifo.labelCollection.get("about-copy").get("label")}));this.$el.append($("#template_experiences").html());g=grifo.experienceGroupCollection.models;for(c=0,e=g.length;c<e;c++){b=g[c];this.appendExperienceGroupView(b)}this.$el.append(this.brandsTemplate({label:grifo.labelCollection.get("about-brands").get("label")}));grifo.brandCollection.sort();h=grifo.brandCollection.models;for(d=0,f=h.length;d<f;d++){a=h[d];this.appendBrandView(a)}return this};a.prototype.appendExperienceGroupView=function(a){var b;if(a.get("column")===0){$("#column-0",this.$el).append($("#template_experience_group_gap").html())}else{$("#column-1",this.$el).append($("#template_experience_group_gap").html())}b=new v({model:a});if(a.get("column")===0){return $("#column-0",this.$el).append(b.render().el)}else{return $("#column-1",this.$el).append(b.render().el)}};a.prototype.appendBrandView=function(a){var b;b=new l({model:a});return $("#brands",this.$el).append(b.render().el)};a.prototype.show=function(b,c){if(b==null)b=0;if(c==null)c=true;this.removeChildren();this.render();return a.__super__.show.apply(this,arguments).show(b,c)};a.prototype.hide=function(){this.removeChildren();return a.__super__.hide.apply(this,arguments).hide()};return a}();l=function(){function a(){this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.className="brand";a.prototype.render=function(){if(this.model.get("url").length>0){this.template=_.template($("#template_brand_link").html());$(this.el).append(this.template({image:this.model.get("image"),label:this.model.get("label"),url:this.model.get("url"),window:this.model.get("window")}))}else{this.template=_.template($("#template_brand").html());$(this.el).append(this.template({image:this.model.get("image"),label:this.model.get("label")}))}return this};return a}();v=function(){function a(){this.appendExperience=bf(this.appendExperience,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.className="new-row";a.prototype.numLeftChar=0;a.prototype.initialize=function(){this.template=_.template($("#template_experience_group").html());this.lineLeftTemplate=_.template($("#template_line_left").html());this.lineRightTemplate=_.template($("#template_line_right").html());this.lineRightPlusTemplate=_.template($("#template_line_right_plus").html());return this.lineGapTemplate=_.template($("#template_line_gap").html())};a.prototype.render=function(){var a,b,c,d;$(this.el).append(this.template({label:this.model.get("label")}));d=grifo.experienceCollection.models;for(b=0,c=d.length;b<c;b++){a=d[b];if(a.get("group")===this.model.get("id")){this.appendExperience(a)}}$(".inner-left",this.el).append(this.lineGapTemplate());$(".inner-left",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).css("max-width",478-29-this.numLeftChar*7);return this};a.prototype.appendExperience=function(a){if(a.get("left").split("<")[0].length>this.numLeftChar){this.numLeftChar=a.get("left").split("<")[0].length}if(a.get("left").length>0){$(".inner-left",this.el).append(this.lineLeftTemplate({label:a.get("left")}))}else{$(".inner-left",this.el).append(this.lineGapTemplate())}if(a.get("right").length>0){if(a.get("plus_url").length>0){return $(".inner-right",this.el).append(this.lineRightPlusTemplate({label:a.get("right"),url:a.get("plus_url"),window:a.get("window")}))}else{return $(".inner-right",this.el).append(this.lineRightTemplate({label:a.get("right")}))}}else{return $(".inner-right",this.el).append(this.lineGapTemplate())}};return a}();p=function(){function a(){this.appendCreditView=bf(this.appendCreditView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.className="new-row";a.prototype.initialize=function(){return this.template=_.template($("#template_credit_group").html())};a.prototype.render=function(){var a,b,c,d;$(this.el).append(this.template({label:this.model.get("label")}));d=grifo.creditCollection.models;for(b=0,c=d.length;b<c;b++){a=d[b];if(a.get("group")===this.model.get("id")){this.appendCreditView(a)}}return this};a.prototype.appendCreditView=function(a){var b;b=new r({model:a});return $($(".date",this.el)[0]).append(b.render().el)};return a}();r=function(){function a(){this.appendProfileView=bf(this.appendProfileView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.tagName="p";a.prototype.initialize=function(){return this.template=_.template($("#template_credit").html())};a.prototype.render=function(){var a,b,c,d,e,f,g;if(this.model.get("label").length>0){$(this.el).append(this.template({label:this.model.get("label")}))}a=0;b=this.model.get("profiles").length;g=this.model.get("profiles");for(e=0,f=g.length;e<f;e++){c=g[e];d=grifo.profileCollection.get(c);this.appendProfileView(d);a++;if(a<b)$(this.el).append(", ")}return this};a.prototype.appendProfileView=function(a){var b;b=new I({model:a});return $(this.el).append(b.render().el)};return a}();I=function(){function a(){this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.tagName="a";a.prototype.render=function(){$(this.el).html(this.model.get("label"));$(this.el).attr("href",this.model.get("url"));$(this.el).attr("target",this.model.get("window"));return this};return a}();L=function(){function a(){this.appendProjectImage=bf(this.appendProjectImage,this);this.appendCreditGroupView=bf(this.appendCreditGroupView,this);this.appendTagView=bf(this.appendTagView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,b);a.prototype.id="project-page";a.prototype.model=null;a.prototype.template=null;a.prototype.imgTemplate=null;a.prototype.init=function(){this.template=_.template($("#template_page_project").html());return this.imgTemplate=_.template($("#template_project_image").html())};a.prototype.render=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;this.model=grifo.projectCollection.get(grifo.appStatus.currentSubPage);d=grifo.projectCollection.at(this.model.get("index")-1);c=grifo.projectCollection.at(this.model.get("index")+1);if(!d){d=grifo.projectCollection.at(grifo.projectCollection.length-1)}if(!c)c=grifo.projectCollection.at(0);this.$el.append(this.template({video:this.model.get("video"),title:this.model.get("long_title"),headline:this.model.get("headline"),url:this.model.get("url"),copy:this.model.get("copy"),prevUrl:"#/"+grifo.appConfig.PAGE_PROJECTS+"/"+d.get("id")+"/",prevTitle:d.get("long_title"),nextUrl:"#/"+grifo.appConfig.PAGE_PROJECTS+"/"+c.get("id")+"/",nextTitle:c.get("long_title")}));m=this.model.get("tags");for(g=0,j=m.length;g<j;g++){e=m[g];f=grifo.tagCollection.get(e);this.appendTagView(f)}n=grifo.creditGroupCollection.models;for(h=0,k=n.length;h<k;h++){a=n[h];if(a.get("project")===this.model.get("id")){this.appendCreditGroupView(a)}}o=this.model.get("images");for(i=0,l=o.length;i<l;i++){b=o[i];this.appendProjectImage(b)}return this};a.prototype.appendTagView=function(a){var b;b=new U({model:a});$("#tags-container",this.$el).append(b.render().el);return $("#tags-container",this.$el).append(" ")};a.prototype.appendCreditGroupView=function(a){var b;b=new p({model:a});return $("#info-right",this.$el).append(b.render().el)};a.prototype.appendProjectImage=function(a){return $("#images-container",this.$el).append(this.imgTemplate({image:a}))};a.prototype.show=function(b,c){if(b==null)b=100;if(c==null)c=true;this.removeChildren();this.render();return a.__super__.show.apply(this,arguments).show(b,c)};a.prototype.hide=function(){this.removeChildren();return a.__super__.hide.apply(this,arguments).hide()};return a}();M=function(){function a(){this.appendThumbnail=bf(this.appendThumbnail,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,b);a.prototype.id="projects-page";a.prototype.itemList=[];a.prototype.init=function(){return this.render()};a.prototype.render=function(){var a,b,c,d;d=grifo.projectCollection.models;for(b=0,c=d.length;b<c;b++){a=d[b];this.appendThumbnail(a)}this.$el.isotope({itemSelector:".grid-item",resizable:false,masonry:{columnWidth:1},animationEngine:"jquery",animationOptions:{queue:false,duration:0,easing:"easeOutExpo"}});return this};a.prototype.relayout=function(){return this.$el.isotope("reLayout")};a.prototype.appendThumbnail=function(a){var b;b=new W({model:a});this.$el.append(b.render().el);return this.itemList[this.itemList.length]=b};a.prototype.filter=function(a){if(a==null)a="";if(a===""){a="*"}else{a="."+a}if(!this.status){this.$el.isotope({animationOptions:{duration:0}})}else{this.$el.isotope({animationOptions:{duration:750}})}return this.$el.isotope({filter:a})};a.prototype.show=function(b,c){var d,e,f,g,h,i;if(b==null)b=0;if(c==null)c=false;if(this.status===true)return;a.__super__.show.apply(this,arguments).show(b,c);b+=100;this.relayout();if(this.itemList){h=this.itemList;i=[];for(f=0,g=h.length;f<g;f++){e=h[f];d=e.show(b);if(d){i.push(b+=50)}else{i.push(void 0)}}return i}};a.prototype.hide=function(){if(this.status===false)return;this.status=false;return a.__super__.hide.apply(this,arguments).hide()};return a}();W=function(){function a(){this.onRollOut=bf(this.onRollOut,this);this.onRollOver=bf(this.onRollOver,this);this.onClick=bf(this.onClick,this);this.appendTagView=bf(this.appendTagView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.className="grid-item";a.prototype.template=null;a.prototype.model=null;a.prototype.events={"click .grid-item-image":"onClick","click .grid-item-name":"onClick","click .grid-item-over":"onClick",mouseenter:"onRollOver",mouseleave:"onRollOut"};a.prototype.init=function(){return this.template=_.template($("#template_thumbnail").html())};a.prototype.render=function(){var a,b,c,d,e;this.$el.addClass(this.model.get("tile_size"));this.$el.addClass(this.model.get("tags").join(" "));this.$el.append(this.template({image:this.model.get("thumbnail"),title:this.model.get("short_title")}));$(".grid-item-image",this.$el).addClass(this.model.get("tile_size"));$(".grid-item-over",this.$el).addClass(this.model.get("tile_size"));$(".grid-item-over",this.$el).css("opacity",0);e=this.model.get("display_tags");for(c=0,d=e.length;c<d;c++){a=e[c];b=grifo.tagCollection.get(a);this.appendTagView(b)}return this};a.prototype.appendTagView=function(a){var b;b=new U({model:a});b.useLongTitle=false;$(".grid-item-tags",this.$el).append(b.render().el);return $(".grid-item-tags",this.$el).append(" ")};a.prototype.show=function(b,c){if(b==null)b=0;if(c==null)c=true;a.__super__.show.apply(this,arguments).show(b,c);return this.$el.attr("class").indexOf("isotope-hidden")===-1};a.prototype.onClick=function(a){a.preventDefault();return grifo.appRouter.navigateToProject(this.model.get("id"))};a.prototype.onRollOver=function(a){$(".grid-item-over",this.$el).stop().animate({opacity:.2},200);return $(".grid-item-name",this.$el).addClass("over")};a.prototype.onRollOut=function(a){$(".grid-item-over",this.$el).stop().animate({opacity:0},200);return $(".grid-item-name",this.$el).removeClass("over")};return a}();O=function(){function a(){this.appendFlickrView=bf(this.appendFlickrView,this);this.appendYoutubeView=bf(this.appendYoutubeView,this);this.appendBlogView=bf(this.appendBlogView,this);this.appendGithubView=bf(this.appendGithubView,this);this.appendTwitterView=bf(this.appendTwitterView,this);this.appendWordLine=bf(this.appendWordLine,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,b);a.prototype.id="stream-page";a.prototype.template=null;a.prototype.wordItemList=[];a.prototype.mediaItemList=[];a.prototype.init=function(){return this.template=_.template($("#template_page_stream").html())};a.prototype.render=function(){var a,b,c,d,e;this.$el.append(this.template({label:grifo.labelCollection.get("stream-title").get("label")}));c=0;d=grifo.twitterCollection.length+grifo.githubCollection.length+grifo.blogCollection.length;b=0;e=0;while(c<d){a=true;switch(b){case 0:if(e<grifo.twitterCollection.length){this.appendTwitterView(grifo.twitterCollection.at(e))}else{a=false;c--}break;case 1:if(e<grifo.githubCollection.length){this.appendGithubView(grifo.githubCollection.at(e))}else{a=false;c--}break;case 2:if(e<grifo.blogCollection.length){this.appendBlogView(grifo.blogCollection.at(e))}else{a=false;c--}}b++;if(b===3){b=0;e++}c++;if(a&&c<d)this.appendWordLine()}c=0;d=grifo.youtubeCollection.length+grifo.flickrCollection.length;b=0;e=0;while(c<d){switch(b){case 0:if(e<grifo.youtubeCollection.length){this.appendYoutubeView(grifo.youtubeCollection.at(e))}else{c--}break;case 1:if(e<grifo.flickrCollection.length){this.appendFlickrView(grifo.flickrCollection.at(e))}else{c--}}b++;if(b===2){b=0;e++}c++}$("#media-grid",this.$el).isotope({itemSelector:".media-stream-item",resizable:"false",masonry:{columnWidth:1},animationEngine:"jquery",animationOptions:{queue:false,duration:0,easing:"easeOutExpo"}});return this};a.prototype.appendWordLine=function(){return $("#word-grid",this.$el).append('<div class="size1of3 word-stream-line"></div>')};a.prototype.appendTwitterView=function(a){return $("#word-grid",this.$el).append('<div class="size1of3 word-stream-item"><h5>'+a.get("text")+"<br/></h5><!--<br/>-->⇢ "+a.get("date")+', from <a href="'+a.get("url")+'" target="_blank">Twitter</a><!--<hr/>--></div>')};a.prototype.appendGithubView=function(a){return $("#word-grid",this.$el).append('<div class="size1of3 word-stream-item"><h4>'+a.get("text")+"<br/></h4><br/><!--<br/>-->⇢ "+a.get("date")+', from <a href="'+a.get("url")+'" target="_blank">Github</a><!--<hr/>--></div>')};a.prototype.appendBlogView=function(a){return $("#word-grid",this.$el).append('<div class="size1of3 word-stream-item"><h5><a href="'+a.get("url")+'" target="_blank">'+a.get("title")+'</a><br/></h5><p class="copy">'+a.get("description")+"</p>⇢ "+a.get("date")+', from <a href="'+a.get("url")+'" target="_blank">Blog</a><!--<hr/>--></div>')};a.prototype.appendYoutubeView=function(a){var b;b=new bc({model:a});return $("#media-grid",this.$el).append(b.render().el)};a.prototype.appendFlickrView=function(a){var b;if(a.get("is_portrait")){b="width: 100%;"}else{b="height: 100%;"}return $("#media-grid",this.$el).append('<div class="size1of3 media-stream-item"><div class="flickr-stream-item"><a href="'+a.get("url")+'" target="_blank"><img src="'+a.get("image")+'" style="'+b+'" /></a></div><p>⇢ '+a.get("date")+', from <a href="'+a.get("url")+'" target="_blank">Flickr</a></p></div>')};a.prototype.show=function(b,c){if(b==null)b=0;if(c==null)c=true;this.removeChildren();a.__super__.show.apply(this,arguments).show(b,c);return this.render()};a.prototype.hide=function(){var b,c;c=[];b=[];this.removeChildren();return a.__super__.hide.apply(this,arguments).hide()};return a}();bc=function(){function a(){this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,Backbone.View);a.prototype.className="media-stream-item size1of3";a.prototype.template=null;a.prototype.render=function(){if(this.model.get("is_portrait")){$(this.el).addClass("video-item-portrait");this.template=_.template($("#template_youtube_portrait").html());$(this.el).append(this.template({id:this.model.get("id"),image:this.model.get("thumbnail_medium"),date:this.model.get("date"),url:this.model.get("url")}))}else{$(this.el).addClass("video-item-landscape");this.template=_.template($("#template_youtube_landscape").html());$(this.el).append(this.template({id:this.model.get("id"),image:this.model.get("thumbnail_medium"),date:this.model.get("date"),url:this.model.get("url")}))}return this};return a}();S=function(){function a(){this.appendTagView=bf(this.appendTagView,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,c);a.prototype.className="size1of6";a.prototype.template=null;a.prototype.model=null;a.prototype.init=function(){return this.template=_.template($("#template_tag_group").html())};a.prototype.render=function(){var a,b,c,d;this.$el.append(this.template({group:this.model.get("label")}));d=grifo.tagCollection.models;for(b=0,c=d.length;b<c;b++){a=d[b];if(a.get("group")===this.model.get("id")){this.appendTagView(a)}}return this};a.prototype.appendTagView=function(a){var b;b=new U({model:a});b.useLongTitle=true;this.$el.append(b.render().el);return this.$el.append(" ")};return a}();V=function(){function a(){this.appendTagGroup=bf(this.appendTagGroup,this);this.render=bf(this.render,this);a.__super__.constructor.apply(this,arguments)}be(a,b);a.prototype.id="tags-page";a.prototype.itemList=[];a.prototype.init=function(){return this.render()};a.prototype.render=function(){var a,b,c,d;d=grifo.tagGroupCollection.models;for(b=0,c=d.length;b<c;b++){a=d[b];this.appendTagGroup(a)}this.$el.append('<div class="new-row"><br/><hr/></div>');return this};a.prototype.appendTagGroup=function(a){var b;b=new S({model:a});this.$el.append(b.render().el);return this.itemList[this.itemList.length]=b};a.prototype.show=function(b,c){var d,e,f,g,h;if(b==null)b=0;if(c==null)c=true;if(this.status===true)return;a.__super__.show.apply(this,arguments).show(b,c);g=this.itemList;h=[];for(e=0,f=g.length;e<f;e++){d=g[e];d.show(b);h.push(b+=50)}return h};return a}()}).call(this)