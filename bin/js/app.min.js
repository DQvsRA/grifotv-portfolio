(function(){var C,t,G,ag,k,f,ad,r,O,X,z,B,H,K,n,aa,b,Y,P,a,s,i,m,y,h,S,w,aj,W,g,u,L,N,D,J,ab,V,U,p,M,af,e,F,Z,ac,o,I,d,j,R,c,ai,T,ae,x,v,Q,E,ah,A,al;var ak=Object.prototype.hasOwnProperty,q=function(ap,an){for(var am in an){if(ak.call(an,am)){ap[am]=an[am]}}function ao(){this.constructor=ap}ao.prototype=an.prototype;ap.prototype=new ao;ap.__super__=an.prototype;return ap},l=function(am,an){return function(){return am.apply(an,arguments)}};$(function(){window.grifo={state:null,config:null,view:null,router:null,labelCollection:null,brandCollection:null,profileCollection:null,experienceCollection:null,experienceGroupCollection:null,tagGroupCollection:null,tagCollection:null,creditGroupCollection:null,creditCollection:null,projectCollection:null,youtubeCollection:null,twitterCollection:null,githubCollection:null,flickrCollection:null,blogCollection:null};grifo.state=new ad();grifo.config=new ag();grifo.view=new r();return grifo.view.on(r.EVENT_DATA_LOADED,function(){grifo.router=new k();grifo.router.on(k.EVENT_HASH_CHANGED,grifo.view.onHashChanged);return grifo.router.start()})});if(!window.console){window.console={log:function(am){return am},dir:function(am){return am}}}ad=(function(){am.prototype.isTablet=/ipad|android 3|sch-i800|playbook|tablet|kindle|gt-p1000|sgh-t849|shw-m180s|a510|a511|a100|dell streak|silk/i.test(navigator.userAgent.toLowerCase());am.prototype.isMobile=/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(navigator.userAgent.toLowerCase());am.prototype.isDesktop=false;am.prototype.currentPage=null;am.prototype.currentSubPage=null;am.prototype.currentSubSubPage=null;am.prototype.previousPage=null;am.prototype.previousSubPage=null;am.prototype.previousSubSubPage=null;function am(){var an,ao,ap;this.isDesktop=!this.isTablet&&!this.isMobile;an=$("html");if(this.isMobile){an.addClass("mobile")}if(this.isDesktop){an.addClass("desktop")}if(this.isTablet){an.addClass("tablet")}if(/MSIE/.test(navigator.userAgent)){an.addClass("ie")}ap=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(ap.exec(navigator.userAgent)){ao=parseFloat(RegExp.$1);an.addClass("ie-"+ao);if(ao<=8){an.addClass("old-ie")}else{an.addClass("new-ie")}}else{an.addClass("non-ie")}}return am})();ag=(function(){am.prototype.PAGE_PROJECTS="projects";am.prototype.PAGE_TAGS="tags";am.prototype.PAGE_STREAM="stream";am.prototype.PAGE_ABOUT="about";am.prototype.PAGE_DEFAULT=null;am.prototype.URL_GDOCS_SS="http://spreadsheets.google.com/feeds/list/{KEY}/{WORKSHEET}/public/values?alt=json-in-script&callback=?";am.prototype.KEY_GDOCS_SS="0AuMegPFV2btJdGFIMWE1V0VvOUFuUlVpWXp3UXlwQ1E";am.prototype.WORKSHEET_LABELS="od9";am.prototype.WORKSHEET_BRANDS="od6";am.prototype.WORKSHEET_PROFILES="od7";am.prototype.WORKSHEET_EXPERIENCES="od8";am.prototype.WORKSHEET_EXPERIENCE_GROUPS="odb";am.prototype.WORKSHEET_TAGS="od4";am.prototype.WORKSHEET_TAG_GROUPS="od5";am.prototype.WORKSHEET_CREDITS="ocx";am.prototype.WORKSHEET_CREDIT_GROUPS="ocw";am.prototype.WORKSHEET_PROJECTS="ocz";am.prototype.URL_LABELS=null;am.prototype.URL_BRANDS=null;am.prototype.URL_PROFILES=null;am.prototype.URL_EXPERIENCES=null;am.prototype.URL_EXPERIENCE_GROUPS=null;am.prototype.URL_TAGS=null;am.prototype.URL_TAG_GROUPS=null;am.prototype.URL_CREDITS=null;am.prototype.URL_CREDIT_GROUPS=null;am.prototype.URL_PROJECTS=null;am.prototype.URL_YOUTUBE="http://gdata.youtube.com/feeds/api/videos?alt=json-in-script&author={USER_ID}&orderby=published&start-index=1&max-results={MAX_RESULTS}&callback=?";am.prototype.URL_TWITTER="https://api.twitter.com/1/statuses/user_timeline.json?include_entities=false&include_rts=false&exclude_replies=true&trim_user=false&contributor_details=false&screen_name={USER_ID}&count={MAX_RESULTS}&callback=?";am.prototype.URL_GITHUB="https://github.com/{USER_ID}.json?&callback=?";am.prototype.URL_FLICKR="http://api.flickr.com/services/feeds/photos_public.gne?id={USER_ID}&lang=en-us&format=json&callback=?";am.prototype.URL_BLOG="xml-proxy.php?url=http://blog.grifo.tv/feed/";am.prototype.USER_ID_YOUTUBE="grifotvmobile";am.prototype.USER_ID_TWITTER="grifotv";am.prototype.USER_ID_GITHUB="grifotv";am.prototype.USER_ID_FLICKR="41688283@N07";am.prototype.MAX_RESULTS_YOUTUBE=9;am.prototype.MAX_RESULTS_TWITTER=6;am.prototype.MAX_RESULTS_GITHUB=6;am.prototype.MAX_RESULTS_FLICKR=10;am.prototype.MAX_RESULTS_BLOG=6;am.prototype.SHARE_URL_FACEBOOK="http://www.facebook.com/sharer.php?u={URL}";am.prototype.SHARE_URL_TWITTER="http://twitter.com/home?status={TEXT}";am.prototype.SNAP_Y_HEADER=120;am.prototype.SNAP_Y_HEADER_BG=155;function am(){this.PAGE_DEFAULT=this.PAGE_PROJECTS;this.URL_GDOCS_SS=this.URL_GDOCS_SS.replace("{KEY}",this.KEY_GDOCS_SS);this.URL_LABELS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_LABELS);this.URL_BRANDS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_BRANDS);this.URL_PROFILES=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_PROFILES);this.URL_EXPERIENCES=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_EXPERIENCES);this.URL_EXPERIENCE_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_EXPERIENCE_GROUPS);this.URL_TAGS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_TAGS);this.URL_TAG_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_TAG_GROUPS);this.URL_CREDITS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_CREDITS);this.URL_CREDIT_GROUPS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_CREDIT_GROUPS);this.URL_PROJECTS=this.URL_GDOCS_SS.replace("{WORKSHEET}",this.WORKSHEET_PROJECTS);this.URL_YOUTUBE=this.URL_YOUTUBE.replace("{USER_ID}",this.USER_ID_YOUTUBE);this.URL_TWITTER=this.URL_TWITTER.replace("{USER_ID}",this.USER_ID_TWITTER);this.URL_GITHUB=this.URL_GITHUB.replace("{USER_ID}",this.USER_ID_GITHUB);this.URL_FLICKR=this.URL_FLICKR.replace("{USER_ID}",this.USER_ID_FLICKR);this.URL_YOUTUBE=this.URL_YOUTUBE.replace("{MAX_RESULTS}",this.MAX_RESULTS_YOUTUBE);this.URL_TWITTER=this.URL_TWITTER.replace("{MAX_RESULTS}",this.MAX_RESULTS_TWITTER*2)}return am})();f=(function(){am.prototype.test=false;function am(){console.log(this.test)}return am})();Q={relativeTime:function(ap){var aA,az,ay,ar,an,av,ax,au,aq,am,aw,ao,at;au=60*1000;ax=au*60;av=ax*24;aq=av*30;am=av*365;aw=Date.parse(ap);ao=new Date();az=ao.getTime()-aw;if(az<au){return"less than a minute ago"}else{if(az<ax){ar=Math.round(az/au);if(ar>1){return ar+" minutes ago"}else{return"about a minute ago"}}else{if(az<av){ay=Math.round(az/ax);if(ay>1){return ay+" hours ago"}else{return"about an hour ago"}}else{if(az<aq){aA=Math.round(az/av);if(aA>1){return aA+" days ago"}else{return"1 day ago"}}else{if(az<am){an=Math.round(az/aq);if(an>1){return an+" months ago"}else{return"1 month ago"}}else{at=Math.round(az/am);if(at>1){return at+" years ago"}else{return"1 year ago"}}}}}}},linkifyUrls:function(am){var an;an=/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/gi;return am.replace(an,'<a target="_blank" href="$1">$1</a>')},linkifyUsers:function(am){var an;an=/[\@]+([A-Za-z0-9-_]+)/gi;return am.replace(an,'<a target="_blank" href="http://twitter.com/$1">@$1</a>')},linkifyHashes:function(am){var an;an=/[\#]+([A-Za-z0-9-_]+)/gi;return am.replace(an,' <a target="_blank" href="https://twitter.com/search?q=%23$1">#$1</a> ')},getWidth:function(am){var an;an=/(width=")+([0-9-_]+")/gi;am=am.match(an).toString();am=am.replace("width=","");am=am.replace('"',"").replace('"',"");return parseInt(am)},getHeight:function(am){var an;an=/(height=")+([0-9-_]+")/gi;am=am.match(an).toString();am=am.replace("height=","");am=am.replace('"',"").replace('"',"");return parseInt(am)}};k=(function(){q(am,Backbone.Router);function am(){am.__super__.constructor.apply(this,arguments)}am.EVENT_HASH_CHANGED="EVENT_HASH_CHANGED";am.prototype.currentPage="";am.prototype.routes={":id":"hashChanged","/:id":"hashChanged",":id/":"hashChanged","/:id/":"hashChanged",":id/:subid":"hashChanged","/:id/:subid":"hashChanged",":id/:subid/":"hashChanged","/:id/:subid/":"hashChanged",":id/:subid/:subsubid":"hashChanged","/:id/:subid/:subsubid":"hashChanged",":id/:subid/:subsubid/":"hashChanged","/:id/:subid/:subsubid/":"hashChanged",":id/:subid/:subsubid/*actions":"hashChanged","/:id/:subid/:subsubid/*actions":"hashChanged","*actions":"default"};am.prototype.start=function(){return Backbone.history.start()};am.prototype.hashChanged=function(ao,ar,aq,an){var ap;if(ao==null){ao=null}if(ar==null){ar=null}if(aq==null){aq=null}if(an==null){an=null}if(ao===grifo.config.PAGE_PROJECTS||ao===grifo.config.PAGE_TAGS||ao===grifo.config.PAGE_STREAM||ao===grifo.config.PAGE_ABOUT){ap="/";if(ao){ap+=ao;ap+="/";if(ar){ap+=ar;ap+="/";if(aq){ap+=aq;ap+="/"}}}if(ap!==this.currentPage){this.currentPage=ap;_gaq.push(["_trackPageview",this.currentPage]);return this.trigger(am.EVENT_HASH_CHANGED,ao,ar,aq)}}};am.prototype["default"]=function(an){return this.hashChanged(grifo.config.PAGE_DEFAULT)};am.prototype.navigateToProject=function(an){var ao;if(an==null){an=null}ao="//"+grifo.config.PAGE_PROJECTS+"/";if(an){ao+=an+"/"}return this.navigate(ao,{trigger:true})};am.prototype.navigateToTag=function(an){var ao;if(an==null){an=null}ao="//"+grifo.config.PAGE_TAGS+"/";if(an){ao+=an+"/"}return this.navigate(ao,{trigger:true})};return am})();X=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={title:"",url:"",description:"",date:""};return am})();w=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={title:"",url:"",image:"",date:"",is_portrait:false};return am})();g=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={type:"",text:"",date:"",url:""};return am})();x=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",text:"",date:"",url:""};return am})();A=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",url:"",date:"",title:"",content:"",thumbnail_low:"",thumbnail_medium:"",is_portrait:false};return am})();H=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:"",image:"",url:"",window:"",priority:0};am.prototype.initialize=function(){if(this.get("url").length>0){if(this.get("url").indexOf("#")===0){this.set({window:"_self"})}else{this.set({window:"_blank"})}}return this.set({priority:parseFloat(this.get("priority"))})};return am})();b=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:"",project:""};return am})();P=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={label:"",profiles:[],group:""};return am})();m=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:"",column:0};return am})();h=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={left:"",right:"",plus_url:"",window:"",group:""};am.prototype.initialize=function(){if(this.get("plus_url").length>0){if(this.get("plus_url").indexOf("#")===0){return this.set({window:"_self"})}else{return this.set({window:"_blank"})}}};return am})();J=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:""};return am})();U=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:"",url:"",window:""};am.prototype.initialize=function(){if(this.get("url").length>0){if(this.get("url").indexOf("#")===0){return this.set({window:"_self"})}else{return this.set({window:"_blank"})}}};return am})();af=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",index:0,tile_size:"small",short_title:"",long_title:"",headline:"",thumbnail:"",url:"",video:"",copy:"",images:[],tags:[],display_tags:[]};return am})();d=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",label:""};return am})();R=(function(){q(am,Backbone.Model);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.defaults={id:"",short_title:"",long_title:"",group:"",selected:false};return am})();B=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=H;am.prototype.comparator=function(an){return an.get("priority")*10+(Math.random()*10)};am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new H({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"],image:au["gsx$image"]["$t"],url:au["gsx$url"]["$t"],priority:au["gsx$priority"]["$t"]});ao.push(ap)}return ao};return am})();n=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=P;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new P({label:au["gsx$label"]["$t"],profiles:au["gsx$profiles"]["$t"].split(","),group:au["gsx$group"]["$t"]});ao.push(ap)}return ao};return am})();aa=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=b;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new b({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"],project:au["gsx$project"]["$t"]});ao.push(ap)}return ao};return am})();s=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=h;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new h({left:au["gsx$left"]["$t"],right:au["gsx$right"]["$t"],plus_url:au["gsx$plusurl"]["$t"],group:au["gsx$group"]["$t"]});ao.push(ap)}return ao};return am})();i=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=m;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new m({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"],column:parseFloat(au["gsx$column"]["$t"])});ao.push(ap)}return ao};return am})();D=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=J;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new J({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"]});ao.push(ap)}return ao};return am})();V=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=U;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new U({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"],url:au["gsx$url"]["$t"]});ao.push(ap)}return ao};return am})();M=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=af;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new b({id:au["gsx$id"]["$t"],index:ao.length,tile_size:au["gsx$tilesize"]["$t"],short_title:au["gsx$shorttitle"]["$t"],long_title:au["gsx$longtitle"]["$t"],headline:au["gsx$headline"]["$t"],thumbnail:au["gsx$thumbnail"]["$t"],url:au["gsx$url"]["$t"],video:au["gsx$video"]["$t"],copy:au["gsx$copy"]["$t"],images:au["gsx$images"]["$t"].split(","),tags:au["gsx$tags"]["$t"].split(","),display_tags:au["gsx$displaytags"]["$t"].split(",")});ao.push(ap)}return ao};return am})();o=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=R;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new R({id:au["gsx$id"]["$t"],short_title:au["gsx$shorttitle"]["$t"],long_title:au["gsx$longtitle"]["$t"],group:au["gsx$group"]["$t"]});ao.push(ap)}return ao};am.prototype.select=function(ap){var aq,at,ao,ar,an;ar=this.models;an=[];for(at=0,ao=ar.length;at<ao;at++){aq=ar[at];if(aq.get("id")===ap){an.push(aq.set({selected:true}))}else{an.push(aq.set({selected:false}))}}return an};return am})();I=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=d;am.prototype.parse=function(aq){var au,ap,ao,at,an,ar;ao=[];ar=aq.feed["entry"];for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=new d({id:au["gsx$id"]["$t"],label:au["gsx$label"]["$t"]});ao.push(ap)}return ao};return am})();O=(function(){q(am,Backbone.Collection);function am(){this.parseAndAdd=l(this.parseAndAdd,this);am.__super__.constructor.apply(this,arguments)}am.prototype.model=X;am.prototype.load=function(){return $.get(this.url,this.parseAndAdd)};am.prototype.parseAndAdd=function(an){this.add(this.parse(an));return grifo.view.onLoad()};am.prototype.parse=function(ao){var an;an=[];$(ao).find("item").each(function(){var ar,au,aq,at,ap,av;ar=$(this);ap=ar.find("title").text();av=ar.find("link").text();aq=ar.find("description").text();au=Q.relativeTime(ar.find("pubDate").text());at=new X({title:ap,url:av,description:aq,date:au});an.push(at);if(an.length===grifo.config.MAX_RESULTS_BLOG){return an}});return an};return am})();S=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=w;am.prototype.parse=function(ax){var ar,an,az,aq,ap,aB,aC,ao,at,ay,aw,au,aA,av;aw=[];av=ax.items;for(au=0,aA=av.length;au<aA;au++){aq=av[au];ar=false;az=aq.description;if(az){ay=Q.getWidth(az);ap=Q.getHeight(az);if(ap>ay){ar=true}}ao=aq.title;at=aq.link;aB=aq.media["m"].replace("_m.jpg",".jpg");an=Q.relativeTime(aq.published);aC=new w({title:ao,url:at,image:aB,date:an,is_portrait:ar});aw.push(aC);if(aw.length===grifo.config.MAX_RESULTS_FLICKR){return aw}}return aw};am.prototype.parseAndAdd=function(an){return this.add(this.parse(an))};return am})();window.jsonFlickrFeed=function(am){grifo.flickrCollection.reset();return grifo.flickrCollection.parseAndAdd(am)};W=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=g;am.prototype.parse=function(at){var an,ao,ay,av,ax,au,ap,ar,aq,aw;ar=[];for(aq=0,aw=at.length;aq<aw;aq++){ao=at[aq];av=ao["public"];au=ao.type;an=Q.relativeTime(ao.created_at);ap=ao.url;ax=null;switch(au){case"PushEvent":if(ao.repository){if(!ao.repository["private"]){ax='pushed to <a target="_blank" href="'+ap+'">'+ao.repository["name"]+"</a>"}}break;case"WatchEvent":ax=ao.payload["action"]+' watching <a target="_blank" href="'+ap+'">'+ao.repository["name"]+"</a>";break;case"CreateEvent":if(ao.repository){if(!ao.repository["private"]){ax='created <a target="_blank" href="'+ap+'">'+ao.repository["name"]+"</a>"}}break;case"ForkEvent":if(ao.repository){if(!ao.repository["private"]){ax='forked <a target="_blank" href="'+ap+'">'+ao.repository["name"]+"</a>"}}break;case"FollowEvent":ax='started following <a target="_blank" href="'+ap+'">'+ao.payload["target"]["login"]+"</a>"}if(ax){ay=new g({type:au,text:ax,date:an,url:ap});ar.push(ay);if(ar.length===grifo.config.MAX_RESULTS_GITHUB){return ar}}}return ar};return am})();ae=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=x;am.prototype.parse=function(au){var ay,ao,ap,av,az,ax,an,aq,at,ar,aw;at=[];for(ar=0,aw=au.length;ar<aw;ar++){ap=au[ar];av=ap.id_str;ax=ap.text;if(ap.truncated&&ap.retweeted_status&&ap.retweeted_status["text"]){an=ap.retweeted_status["text"];ay=ax.indexOf(an.substr(0,20));if(ay!==-1){ax=ax.substr(0,ay)+an}}ax=Q.linkifyUrls(ax);ax=Q.linkifyUsers(ax);ax=Q.linkifyHashes(ax);ao=Q.relativeTime(ap.created_at);aq="https://twitter.com/";aq+=ap.user["screen_name"];aq+="/statuses/";aq+=ap.id_str;az=new x({id:av,text:ax,date:ao,url:aq});at.push(az);if(at.length===grifo.config.MAX_RESULTS_TWITTER){return at}}return at};return am})();ah=(function(){q(am,Backbone.Collection);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.model=A;am.prototype.parse=function(av){var ap,an,ao,aw,az,ay,aq,au,ar,ax,at;au=[];at=av.feed["entry"];for(ar=0,ax=at.length;ar<ax;ar++){ao=at[ar];an=Q.relativeTime(ao.published["$t"]);aq=ao.id["$t"];aq=aq.replace("http://gdata.youtube.com/feeds/api/videos/","http://www.youtube.com/watch?v=");aw=aq.replace("http://www.youtube.com/watch?v=","");ay=ao["media$group"]["media$keywords"]["$t"];ap=false;if(ay.toLowerCase().indexOf("vertical")!==-1||ay.toLowerCase().indexOf("v")!==-1||ay.toLowerCase().indexOf("portrait")!==-1){ap=true}az=new A({id:aw,url:aq,date:an,title:ao.title["$t"],content:ao.content["$t"],thumbnail_low:"http://i.ytimg.com/vi/"+aw+"/default.jpg",thumbnail_medium:"http://i.ytimg.com/vi/"+aw+"/hqdefault.jpg",is_portrait:ap});au.push(az)}return au};return am})();r=(function(){q(am,Backbone.View);function am(){this.realign=l(this.realign,this);this.onHashChanged=l(this.onHashChanged,this);this.show=l(this.show,this);this.render=l(this.render,this);this.onLoad=l(this.onLoad,this);am.__super__.constructor.apply(this,arguments)}am.EVENT_DATA_LOADED="EVENT_DATA_LOADED";am.EVENT_REALIGNED="EVENT_REALIGNED";am.prototype.el="body";am.prototype.$el=null;am.prototype.$window=null;am.prototype.template=null;am.prototype.loaded=0;am.prototype.numLoaded=15;am.prototype.headerView=null;am.prototype.headerBgView=null;am.prototype.tagsPageView=null;am.prototype.projectsPageView=null;am.prototype.projectPageView=null;am.prototype.streamPageView=null;am.prototype.aboutPageView=null;am.prototype.initialize=function(){this.$el=$(this.el);this.$window=$(window);this.template=_.template($("#template_app").html());this.$window.scroll(this.realign);this.$window.resize(this.realign);this.$window.load(this.onLoad);return this.loadData()};am.prototype.loadData=function(){var an=this;grifo.projectCollection=new M;grifo.projectCollection.url=grifo.config.URL_PROJECTS;grifo.projectCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.tagCollection=new o();grifo.tagCollection.url=grifo.config.URL_TAGS;grifo.tagCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.tagGroupCollection=new I();grifo.tagGroupCollection.url=grifo.config.URL_TAG_GROUPS;grifo.tagGroupCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.creditCollection=new n();grifo.creditCollection.url=grifo.config.URL_CREDITS;grifo.creditCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.creditGroupCollection=new aa();grifo.creditGroupCollection.url=grifo.config.URL_CREDIT_GROUPS;grifo.creditGroupCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.experienceCollection=new s();grifo.experienceCollection.url=grifo.config.URL_EXPERIENCES;grifo.experienceCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.experienceGroupCollection=new i();grifo.experienceGroupCollection.url=grifo.config.URL_EXPERIENCE_GROUPS;grifo.experienceGroupCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.profileCollection=new V();grifo.profileCollection.url=grifo.config.URL_PROFILES;grifo.profileCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.brandCollection=new B();grifo.brandCollection.url=grifo.config.URL_BRANDS;grifo.brandCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.labelCollection=new D();grifo.labelCollection.url=grifo.config.URL_LABELS;grifo.labelCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.youtubeCollection=new ah();grifo.youtubeCollection.url=grifo.config.URL_YOUTUBE;grifo.youtubeCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.twitterCollection=new ae();grifo.twitterCollection.url=grifo.config.URL_TWITTER;grifo.twitterCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.githubCollection=new W();grifo.githubCollection.url=grifo.config.URL_GITHUB;grifo.githubCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.flickrCollection=new S();grifo.flickrCollection.url=grifo.config.URL_FLICKR;grifo.flickrCollection.fetch({success:function(ap,ao){return an.onLoad()},error:function(ap,ao){return an.onLoad()}});grifo.blogCollection=new O();grifo.blogCollection.url=grifo.config.URL_BLOG;return grifo.blogCollection.load()};am.prototype.onLoad=function(){this.loaded++;if(this.loaded===this.numLoaded){return this.onLoadComplete()}};am.prototype.onLoadComplete=function(){this.render();this.show();return this.trigger(am.EVENT_DATA_LOADED)};am.prototype.render=function(){if(grifo.state.isMobile){$("#draw").remove();$("#paperJs").remove();$("#bgJs").remove()}this.$el.append(this.template({footer1_title:grifo.labelCollection.get("footer1-title").get("label"),footer1_copy:grifo.labelCollection.get("footer1-copy").get("label"),footer2_title:grifo.labelCollection.get("footer2-title").get("label"),footer2_copy:grifo.labelCollection.get("footer2-copy").get("label"),footer3_title:grifo.labelCollection.get("footer3-title").get("label"),footer3_copy:grifo.labelCollection.get("footer3-copy").get("label")}));this.headerView=new N();this.headerView.on(N.EVENT_ARROW_TOP_CLICKED,this.scrollToTop);this.headerBgView=new L();this.tagsPageView=new ai();this.projectsPageView=new F();this.projectPageView=new e();this.streamPageView=new ac();this.aboutPageView=new C();this.realign();return this};am.prototype.show=function(){this.headerView.show();return this.headerBgView.show()};am.prototype.onHashChanged=function(an,aq,ao){var ap;if(an===this.currentPage&&aq===this.currentSubPage&&ao===this.currentSubSubPage){return}grifo.state.previousPage=grifo.state.currentPage;grifo.state.previousSubPage=grifo.state.currentSubPage;grifo.state.previousSubSubPage=grifo.state.currentSubSubPage;grifo.state.currentPage=an;grifo.state.currentSubPage=aq;grifo.state.currentSubSubPage=ao;this.headerView.selectItem(an);ap=0;switch(an){case grifo.config.PAGE_PROJECTS:this.aboutPageView.hide();this.streamPageView.hide();grifo.tagCollection.select("");this.tagsPageView.hide();if(aq){this.projectsPageView.hide();this.projectPageView.show();ap=grifo.config.SNAP_Y_HEADER_BG+29}else{this.projectPageView.hide();this.projectsPageView.filter();this.projectsPageView.show()}break;case grifo.config.PAGE_TAGS:this.aboutPageView.hide();this.projectPageView.hide();this.streamPageView.hide();this.projectsPageView.filter(aq);this.projectsPageView.show();grifo.tagCollection.select(aq);this.tagsPageView.show();if(aq){ap=grifo.config.SNAP_Y_HEADER_BG}break;case grifo.config.PAGE_STREAM:this.tagsPageView.hide();this.projectsPageView.hide();this.projectPageView.hide();this.aboutPageView.hide();this.streamPageView.show();break;case grifo.config.PAGE_ABOUT:this.tagsPageView.hide();this.projectsPageView.hide();this.projectPageView.hide();this.streamPageView.hide();this.aboutPageView.show()}return this.scrollToTop(ap)};am.prototype.scrollToTop=function(an){var ao;if(an==null){an=-10}ao=(an-window.pageYOffset)*2;if(ao<0){ao*=-1}if(ao>1000){ao=1000}return $("html,body").stop().animate({scrollTop:an},{duration:ao,easing:"easeOutExpo"})};am.prototype.realign=function(){var ar,ao,ap,an,aq;if(!this.headerView||!this.headerBgView){return}aq=an=ao=-this.$window.scrollTop();if(aq<-grifo.config.SNAP_Y_HEADER_BG){ao=-grifo.config.SNAP_Y_HEADER_BG}if(aq<-grifo.config.SNAP_Y_HEADER){an=-grifo.config.SNAP_Y_HEADER}this.headerView.setTop(an);this.headerBgView.setTop(ao);ar=ao/-grifo.config.SNAP_Y_HEADER_BG;ap=(an-ao)/(grifo.config.SNAP_Y_HEADER_BG-grifo.config.SNAP_Y_HEADER);this.headerView.setLeftOpacity(ap);this.headerBgView.setOpacity(ar);return this.trigger(am.EVENT_REALIGNED)};return am})();G=(function(){q(am,Backbone.View);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.id=null;am.prototype.el=null;am.prototype.$el=null;am.prototype.status=true;am.prototype.hasTransition=true;am.prototype.initialize=function(){if(this.id){this.$el=$("#"+this.id)}else{this.$el=$(this.el)}if(this.hasTransition){this.hide()}return this.init()};am.prototype.remove=function(){return this.$el.remove()};am.prototype.removeChildren=function(){return this.$el.children().remove()};am.prototype.hide=function(){if(!this.hasTransition){return}this.status=false;this.$el.stop();return this.$el.css("display","none")};am.prototype.show=function(ao,an){if(ao==null){ao=0}if(an==null){an=true}if(!this.hasTransition){return}this.status=true;this.$el.css("display","block");if(!an){return this.$el.css("opacity",1)}else{this.$el.css("opacity",0);return this.$el.stop().delay(ao).animate({opacity:1},{duration:300})}};am.prototype.init=function(){};return am})();c=(function(){q(am,G);function am(){this.onClick=l(this.onClick,this);this.remove=l(this.remove,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.useLongTitle=true;am.prototype.tagName="a";am.prototype.hasTransition=false;am.prototype.events={click:"onClick"};am.prototype.init=function(){this.model.bind("change",this.render,this);return this.model.bind("destroy",this.remove,this)};am.prototype.render=function(){var an;if(this.useLongTitle){an=this.model.get("long_title")}else{an=this.model.get("short_title")}if(this.model.get("selected")){$(this.el).removeClass("tag");$(this.el).addClass("tagSelected")}else{$(this.el).addClass("tag");$(this.el).removeClass("tagSelected")}$(this.el).html(an);$(this.el).attr("href","#");return this};am.prototype.remove=function(){return $(this.el).remove()};am.prototype.onClick=function(an){an.preventDefault();if(this.model.get("selected")){return grifo.router.navigateToTag()}else{return grifo.router.navigateToTag(this.model.get("id"))}};return am})();L=(function(){q(am,G);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.id="container-header-bg";am.prototype.setTop=function(an){return this.$el.css("top",an)};am.prototype.setOpacity=function(an){return $("#header-bar-bg").css("opacity",an)};return am})();N=(function(){q(am,G);function am(){this.onArrowTopClick=l(this.onArrowTopClick,this);am.__super__.constructor.apply(this,arguments)}am.EVENT_ARROW_TOP_CLICKED="EVENT_ARROW_TOP_CLICKED";am.prototype.id="container-header";am.prototype.navView=null;am.prototype.shareView=null;am.prototype.events={"click #arrow-top":"onArrowTopClick"};am.prototype.init=function(){this.navView=new ab();return this.shareView=new Z()};am.prototype.onArrowTopClick=function(an){an.preventDefault();return this.trigger(am.EVENT_ARROW_TOP_CLICKED)};am.prototype.selectItem=function(an){return this.navView.selectItem(an)};am.prototype.setTop=function(an){return this.$el.css("top",an)};am.prototype.setLeftOpacity=function(an){return $("#header-left").css("opacity",an)};return am})();ab=(function(){q(am,G);function am(){am.__super__.constructor.apply(this,arguments)}am.prototype.id="nav";am.prototype.hasTransition=false;am.prototype.selectItem=function(an){if(an==null){an=""}$(".menu",this.$el).removeClass("menuSelected");return $("#menu-"+an,this.$el).addClass("menuSelected")};return am})();Z=(function(){q(am,G);function am(){this.onClick=l(this.onClick,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="header-right";am.prototype.hasTransition=false;am.prototype.init=function(){$("#share-twitter").click(this.onClick);return $("#share-facebook").click(this.onClick)};am.prototype.onClick=function(ap){var ao,an;ap.preventDefault();ao=$(ap.currentTarget).attr("id");switch(ao){case"share-facebook":an=grifo.config.SHARE_URL_FACEBOOK.replace("{URL}",encodeURIComponent(grifo.labelCollection.get("share-url").get("label")));break;case"share-twitter":an=grifo.config.SHARE_URL_TWITTER.replace("{TEXT}",encodeURIComponent(grifo.labelCollection.get("share-tweet").get("label")))}if(an){return window.open(an)}};return am})();t=(function(){q(am,G);function am(){am.__super__.constructor.apply(this,arguments)}return am})();C=(function(){q(am,t);function am(){this.appendBrandView=l(this.appendBrandView,this);this.appendExperienceGroupView=l(this.appendExperienceGroupView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="about-page";am.prototype.overviewTemplate=null;am.prototype.brandsTemplate=null;am.prototype.itemList=null;am.prototype.init=function(){this.itemList=[];this.overviewTemplate=_.template($("#template_overview").html());return this.brandsTemplate=_.template($("#template_brands").html())};am.prototype.render=function(){var ao,aq,au,ar,ap,an,at,av;this.$el.append(this.overviewTemplate({label:grifo.labelCollection.get("about-overview").get("label"),image:grifo.labelCollection.get("about-picture").get("label"),headline:grifo.labelCollection.get("about-headline").get("label"),copy:grifo.labelCollection.get("about-copy").get("label")}));this.$el.append($("#template_experiences").html());at=grifo.experienceGroupCollection.models;for(au=0,ap=at.length;au<ap;au++){aq=at[au];this.appendExperienceGroupView(aq)}this.$el.append(this.brandsTemplate({label:grifo.labelCollection.get("about-brands").get("label")}));grifo.brandCollection.sort();av=grifo.brandCollection.models;for(ar=0,an=av.length;ar<an;ar++){ao=av[ar];this.appendBrandView(ao)}return this};am.prototype.appendExperienceGroupView=function(ao){var an;if(ao.get("column")===0){$("#column-0",this.$el).append($("#template_experience_group_gap").html())}else{$("#column-1",this.$el).append($("#template_experience_group_gap").html())}an=new y({model:ao});if(ao.get("column")===0){$("#column-0",this.$el).append(an.render().el)}else{$("#column-1",this.$el).append(an.render().el)}return this.itemList[this.itemList.length]=an};am.prototype.appendBrandView=function(ao){var an;an=new K({model:ao});$("#brands",this.$el).append(an.render().el);return this.itemList[this.itemList.length]=an};am.prototype.show=function(au,an){var aq,at,ap,ar,ao;if(au==null){au=0}if(an==null){an=true}this.itemList=[];this.removeChildren();this.render();am.__super__.show.apply(this,arguments).show(au,an);au+=50;if(this.itemList){ar=this.itemList;ao=[];for(at=0,ap=ar.length;at<ap;at++){aq=ar[at];aq.show(au);ao.push(au+=25)}return ao}};am.prototype.hide=function(){this.itemList=[];this.removeChildren();return am.__super__.hide.apply(this,arguments).hide()};return am})();K=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="brand";am.prototype.render=function(){if(this.model.get("url").length>0){this.template=_.template($("#template_brand_link").html());$(this.el).append(this.template({image:this.model.get("image"),label:this.model.get("label"),url:this.model.get("url"),window:this.model.get("window")}))}else{this.template=_.template($("#template_brand").html());$(this.el).append(this.template({image:this.model.get("image"),label:this.model.get("label")}))}return this};return am})();y=(function(){q(am,G);function am(){this.appendExperience=l(this.appendExperience,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="new-row";am.prototype.numLeftChar=0;am.prototype.init=function(){this.template=_.template($("#template_experience_group").html());this.lineLeftTemplate=_.template($("#template_line_left").html());this.lineRightTemplate=_.template($("#template_line_right").html());this.lineRightPlusTemplate=_.template($("#template_line_right_plus").html());return this.lineGapTemplate=_.template($("#template_line_gap").html())};am.prototype.render=function(){var ao,aq,an,ap;$(this.el).append(this.template({label:this.model.get("label")}));ap=grifo.experienceCollection.models;for(aq=0,an=ap.length;aq<an;aq++){ao=ap[aq];if(ao.get("group")===this.model.get("id")){this.appendExperience(ao)}}$(".inner-left",this.el).append(this.lineGapTemplate());$(".inner-left",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).append(this.lineGapTemplate());$(".inner-right",this.el).css("max-width",478-29-this.numLeftChar*7);return this};am.prototype.appendExperience=function(an){if(an.get("left").split("<")[0].length>this.numLeftChar){this.numLeftChar=an.get("left").split("<")[0].length}if(an.get("left").length>0){$(".inner-left",this.el).append(this.lineLeftTemplate({label:an.get("left")}))}else{$(".inner-left",this.el).append(this.lineGapTemplate())}if(an.get("right").length>0){if(an.get("plus_url").length>0){return $(".inner-right",this.el).append(this.lineRightPlusTemplate({label:an.get("right"),url:an.get("plus_url"),window:an.get("window")}))}else{return $(".inner-right",this.el).append(this.lineRightTemplate({label:an.get("right")}))}}else{return $(".inner-right",this.el).append(this.lineGapTemplate())}};return am})();Y=(function(){q(am,G);function am(){this.appendCreditView=l(this.appendCreditView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="new-row";am.prototype.hasTransition=false;am.prototype.init=function(){return this.template=_.template($("#template_credit_group").html())};am.prototype.render=function(){var ao,aq,an,ap;$(this.el).append(this.template({label:this.model.get("label")}));ap=grifo.creditCollection.models;for(aq=0,an=ap.length;aq<an;aq++){ao=ap[aq];if(ao.get("group")===this.model.get("id")){this.appendCreditView(ao)}}return this};am.prototype.appendCreditView=function(ao){var an;an=new a({model:ao});return $($(".date",this.el)[0]).append(an.render().el)};return am})();a=(function(){q(am,G);function am(){this.appendProfileView=l(this.appendProfileView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.tagName="p";am.prototype.hasTransition=false;am.prototype.init=function(){return this.template=_.template($("#template_credit").html())};am.prototype.render=function(){var aq,ao,au,ap,at,an,ar;if(this.model.get("label").length>0){$(this.el).append(this.template({label:this.model.get("label")}))}aq=0;ao=this.model.get("profiles").length;ar=this.model.get("profiles");for(at=0,an=ar.length;at<an;at++){au=ar[at];ap=grifo.profileCollection.get(au);this.appendProfileView(ap);aq++;if(aq<ao){$(this.el).append(", ")}}return this};am.prototype.appendProfileView=function(ao){var an;an=new p({model:ao});return $(this.el).append(an.render().el)};return am})();p=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.tagName="a";am.prototype.hasTransition=false;am.prototype.render=function(){$(this.el).html(this.model.get("label"));$(this.el).attr("href",this.model.get("url"));$(this.el).attr("target",this.model.get("window"));return this};return am})();e=(function(){q(am,t);function am(){this.appendProjectImage=l(this.appendProjectImage,this);this.appendCreditGroupView=l(this.appendCreditGroupView,this);this.appendTagView=l(this.appendTagView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="project-page";am.prototype.model=null;am.prototype.template=null;am.prototype.imgTemplate=null;am.prototype.init=function(){this.template=_.template($("#template_page_project").html());return this.imgTemplate=_.template($("#template_project_image").html())};am.prototype.render=function(){var aB,ao,ay,aq,at,aA,ax,aw,av,aC,ap,an,az,au,ar;this.model=grifo.projectCollection.get(grifo.state.currentSubPage);aq=grifo.projectCollection.at(this.model.get("index")-1);ay=grifo.projectCollection.at(this.model.get("index")+1);if(!aq){aq=grifo.projectCollection.at(grifo.projectCollection.length-1)}if(!ay){ay=grifo.projectCollection.at(0)}this.$el.append(this.template({video:this.model.get("video"),title:this.model.get("long_title"),headline:this.model.get("headline"),url:this.model.get("url"),copy:this.model.get("copy"),showArrows:grifo.state.isDesktop,prevUrl:"#/"+grifo.config.PAGE_PROJECTS+"/"+aq.get("id")+"/",prevTitle:aq.get("long_title"),nextUrl:"#/"+grifo.config.PAGE_PROJECTS+"/"+ay.get("id")+"/",nextTitle:ay.get("long_title")}));az=this.model.get("tags");for(ax=0,aC=az.length;ax<aC;ax++){at=az[ax];aA=grifo.tagCollection.get(at);this.appendTagView(aA)}au=grifo.creditGroupCollection.models;for(aw=0,ap=au.length;aw<ap;aw++){aB=au[aw];if(aB.get("project")===this.model.get("id")){this.appendCreditGroupView(aB)}}ar=this.model.get("images");for(av=0,an=ar.length;av<an;av++){ao=ar[av];this.appendProjectImage(ao)}return this};am.prototype.appendTagView=function(ao){var an;an=new c({model:ao});$("#tags-container",this.$el).append(an.render().el);return $("#tags-container",this.$el).append(" ")};am.prototype.appendCreditGroupView=function(ao){var an;an=new Y({model:ao});return $("#info-right",this.$el).append(an.render().el)};am.prototype.appendProjectImage=function(an){return $("#images-container",this.$el).append(this.imgTemplate({image:an}))};am.prototype.show=function(ao,an){if(ao==null){ao=100}if(an==null){an=true}this.removeChildren();this.render();return am.__super__.show.apply(this,arguments).show(ao,an)};am.prototype.hide=function(){this.removeChildren();return am.__super__.hide.apply(this,arguments).hide()};return am})();F=(function(){q(am,t);function am(){this.appendThumbnail=l(this.appendThumbnail,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="projects-page";am.prototype.itemList=null;am.prototype.init=function(){this.itemList=[];return this.render()};am.prototype.render=function(){var ao,aq,an,ap;ap=grifo.projectCollection.models;for(aq=0,an=ap.length;aq<an;aq++){ao=ap[aq];this.appendThumbnail(ao)}this.$el.isotope({itemSelector:".grid-item",resizable:false,masonry:{columnWidth:1},animationEngine:"jquery",animationOptions:{queue:false,duration:0,easing:"easeOutExpo"}});return this};am.prototype.relayout=function(){return this.$el.isotope("reLayout")};am.prototype.appendThumbnail=function(ao){var an;an=new T({model:ao});this.$el.append(an.render().el);return this.itemList[this.itemList.length]=an};am.prototype.filter=function(an){if(an==null){an=""}if(an===""){an="*"}else{an="."+an}if(!this.status){this.$el.isotope({animationOptions:{duration:0}})}else{this.$el.isotope({animationOptions:{duration:750}})}return this.$el.isotope({filter:an})};am.prototype.show=function(au,an){var av,at,ar,ap,aq,ao;if(au==null){au=0}if(an==null){an=false}if(this.status===true){return}am.__super__.show.apply(this,arguments).show(au,an);au+=100;this.relayout();if(this.itemList){aq=this.itemList;ao=[];for(ar=0,ap=aq.length;ar<ap;ar++){at=aq[ar];av=at.show(au);if(av){ao.push(au+=50)}else{ao.push(void 0)}}return ao}};am.prototype.hide=function(){if(this.status===false){return}this.status=false;return am.__super__.hide.apply(this,arguments).hide()};return am})();T=(function(){q(am,G);function am(){this.onRollOut=l(this.onRollOut,this);this.onRollOver=l(this.onRollOver,this);this.onClick=l(this.onClick,this);this.appendTagView=l(this.appendTagView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="grid-item";am.prototype.template=null;am.prototype.model=null;am.prototype.events={"click .grid-item-image":"onClick","click .grid-item-name":"onClick","click .grid-item-over":"onClick",mouseenter:"onRollOver",mouseleave:"onRollOut"};am.prototype.init=function(){return this.template=_.template($("#template_thumbnail").html())};am.prototype.render=function(){var ao,ap,ar,an,aq;this.$el.addClass(this.model.get("tile_size"));this.$el.addClass(this.model.get("tags").join(" "));this.$el.append(this.template({image:this.model.get("thumbnail"),title:this.model.get("short_title")}));$(".grid-item-image",this.$el).addClass(this.model.get("tile_size"));$(".grid-item-over",this.$el).addClass(this.model.get("tile_size"));$(".grid-item-over",this.$el).css("opacity",0);aq=this.model.get("display_tags");for(ar=0,an=aq.length;ar<an;ar++){ao=aq[ar];ap=grifo.tagCollection.get(ao);this.appendTagView(ap)}return this};am.prototype.appendTagView=function(ao){var an;an=new c({model:ao});an.useLongTitle=false;$(".grid-item-tags",this.$el).append(an.render().el);return $(".grid-item-tags",this.$el).append(" ")};am.prototype.show=function(ao,an){if(ao==null){ao=0}if(an==null){an=true}am.__super__.show.apply(this,arguments).show(ao,an);return this.$el.attr("class").indexOf("isotope-hidden")===-1};am.prototype.onClick=function(an){an.preventDefault();return grifo.router.navigateToProject(this.model.get("id"))};am.prototype.onRollOver=function(an){$(".grid-item-over",this.$el).stop().animate({opacity:0.2},200);return $(".grid-item-name",this.$el).addClass("over")};am.prototype.onRollOut=function(an){$(".grid-item-over",this.$el).stop().animate({opacity:0},200);return $(".grid-item-name",this.$el).removeClass("over")};return am})();z=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="word-stream-item size1of3";am.prototype.template=null;am.prototype.init=function(){return this.template=_.template($("#template_blog").html())};am.prototype.render=function(){$(this.el).append(this.template({title:this.model.get("title"),description:this.model.get("description"),date:this.model.get("date"),url:this.model.get("url")}));return this};return am})();aj=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="media-stream-item size1of3";am.prototype.template=null;am.prototype.init=function(){if(this.model.get("is_portrait")){return this.template=_.template($("#template_flickr_portrait").html())}else{return this.template=_.template($("#template_flickr_landscape").html())}};am.prototype.render=function(){$(this.el).append(this.template({image:this.model.get("image"),date:this.model.get("date"),url:this.model.get("url")}));return this};return am})();u=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="word-stream-item size1of3";am.prototype.template=null;am.prototype.init=function(){return this.template=_.template($("#template_github").html())};am.prototype.render=function(){$(this.el).append(this.template({label:this.model.get("text"),date:this.model.get("date"),url:this.model.get("url")}));return this};return am})();ac=(function(){q(am,t);function am(){this.appendFlickrView=l(this.appendFlickrView,this);this.appendYoutubeView=l(this.appendYoutubeView,this);this.appendBlogView=l(this.appendBlogView,this);this.appendGithubView=l(this.appendGithubView,this);this.appendTwitterView=l(this.appendTwitterView,this);this.appendWordLine=l(this.appendWordLine,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="stream-page";am.prototype.template=null;am.prototype.wordItemList=null;am.prototype.mediaItemList=null;am.prototype.init=function(){this.wordItemList=[];this.mediaItemList=[];return this.template=_.template($("#template_page_stream").html())};am.prototype.render=function(){var aq,ar,ap,an,ao;this.$el.append(this.template({label:grifo.labelCollection.get("stream-title").get("label")}));ap=0;an=grifo.twitterCollection.length+grifo.githubCollection.length+grifo.blogCollection.length;ar=0;ao=0;while(ap<an){aq=true;switch(ar){case 0:if(ao<grifo.twitterCollection.length){this.appendTwitterView(grifo.twitterCollection.at(ao))}else{aq=false;ap--}break;case 1:if(ao<grifo.githubCollection.length){this.appendGithubView(grifo.githubCollection.at(ao))}else{aq=false;ap--}break;case 2:if(ao<grifo.blogCollection.length){this.appendBlogView(grifo.blogCollection.at(ao))}else{aq=false;ap--}}ar++;if(ar===3){ar=0;ao++}ap++;if(aq&&ap<an){this.appendWordLine()}}ap=0;an=grifo.youtubeCollection.length+grifo.flickrCollection.length;ar=0;ao=0;while(ap<an){switch(ar){case 0:if(ao<grifo.youtubeCollection.length){this.appendYoutubeView(grifo.youtubeCollection.at(ao))}else{ap--}break;case 1:if(ao<grifo.flickrCollection.length){this.appendFlickrView(grifo.flickrCollection.at(ao))}else{ap--}}ar++;if(ar===2){ar=0;ao++}ap++}$("#media-grid",this.$el).isotope({itemSelector:".media-stream-item",resizable:"false",masonry:{columnWidth:1},animationEngine:"jquery",animationOptions:{queue:false,duration:0,easing:"easeOutExpo"}});return this};am.prototype.appendWordLine=function(){var an;an=new E();$("#word-grid",this.$el).append(an.render().el);return this.wordItemList[this.wordItemList.length]=an};am.prototype.appendTwitterView=function(ao){var an;an=new v({model:ao});$("#word-grid",this.$el).append(an.render().el);return this.wordItemList[this.wordItemList.length]=an};am.prototype.appendGithubView=function(ao){var an;an=new u({model:ao});$("#word-grid",this.$el).append(an.render().el);return this.wordItemList[this.wordItemList.length]=an};am.prototype.appendBlogView=function(ao){var an;an=new z({model:ao});$("#word-grid",this.$el).append(an.render().el);return this.wordItemList[this.wordItemList.length]=an};am.prototype.appendYoutubeView=function(ao){var an;an=new al({model:ao});$("#media-grid",this.$el).append(an.render().el);return this.mediaItemList[this.mediaItemList.length]=an};am.prototype.appendFlickrView=function(ao){var an;an=new aj({model:ao});$("#media-grid",this.$el).append(an.render().el);return this.mediaItemList[this.mediaItemList.length]=an};am.prototype.show=function(au,av){var ay,ax,ar,aq,aw,an,at,ao,ap;if(au==null){au=0}if(av==null){av=true}this.wordItemList=[];this.mediaItemList=[];this.removeChildren();am.__super__.show.apply(this,arguments).show(au,av);this.render();if(this.wordItemList){at=this.wordItemList;for(ar=0,aw=at.length;ar<aw;ar++){ax=at[ar];ax.show(au);au+=25}}au=0;if(this.mediaItemList){ao=this.mediaItemList;ap=[];for(aq=0,an=ao.length;aq<an;aq++){ay=ao[aq];ay.show(au);ap.push(au+=50)}return ap}};am.prototype.hide=function(){this.wordItemList=[];this.mediaItemList=[];this.removeChildren();return am.__super__.hide.apply(this,arguments).hide()};return am})();v=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="word-stream-item size1of3";am.prototype.template=null;am.prototype.init=function(){return this.template=_.template($("#template_twitter").html())};am.prototype.render=function(){$(this.el).append(this.template({label:this.model.get("text"),date:this.model.get("date"),url:this.model.get("url")}));return this};return am})();E=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="word-stream-line size1of3";am.prototype.render=function(){return this};return am})();al=(function(){q(am,G);function am(){this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="media-stream-item size1of3";am.prototype.template=null;am.prototype.init=function(){if(this.model.get("is_portrait")){return this.template=_.template($("#template_youtube_portrait").html())}else{return this.template=_.template($("#template_youtube_landscape").html())}};am.prototype.render=function(){$(this.el).append(this.template({id:this.model.get("id"),image:this.model.get("thumbnail_medium"),date:this.model.get("date"),url:this.model.get("url")}));return this};return am})();j=(function(){q(am,G);function am(){this.appendTagView=l(this.appendTagView,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.className="size1of6";am.prototype.template=null;am.prototype.model=null;am.prototype.init=function(){return this.template=_.template($("#template_tag_group").html())};am.prototype.render=function(){var ao,aq,an,ap;this.$el.append(this.template({group:this.model.get("label")}));ap=grifo.tagCollection.models;for(aq=0,an=ap.length;aq<an;aq++){ao=ap[aq];if(ao.get("group")===this.model.get("id")){this.appendTagView(ao)}}return this};am.prototype.appendTagView=function(ao){var an;an=new c({model:ao});an.useLongTitle=true;this.$el.append(an.render().el);return this.$el.append(" ")};return am})();ai=(function(){q(am,t);function am(){this.appendTagGroup=l(this.appendTagGroup,this);this.render=l(this.render,this);am.__super__.constructor.apply(this,arguments)}am.prototype.id="tags-page";am.prototype.itemList=null;am.prototype.init=function(){this.itemList=[];return this.render()};am.prototype.render=function(){var aq,ap,an,ao;ao=grifo.tagGroupCollection.models;for(ap=0,an=ao.length;ap<an;ap++){aq=ao[ap];this.appendTagGroup(aq)}this.$el.append('<div class="new-row"><br/><hr/></div>');return this};am.prototype.appendTagGroup=function(ao){var an;an=new j({model:ao});this.$el.append(an.render().el);return this.itemList[this.itemList.length]=an};am.prototype.show=function(au,an){var aq,at,ap,ar,ao;if(au==null){au=0}if(an==null){an=true}if(this.status===true){return}am.__super__.show.apply(this,arguments).show(au,an);if(this.itemList){ar=this.itemList;ao=[];for(at=0,ap=ar.length;at<ap;at++){aq=ar[at];aq.show(au);ao.push(au+=50)}return ao}};return am})()}).call(this);